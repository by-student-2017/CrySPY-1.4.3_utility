Geometry = VaspFormat {
  <<< POSCAR
}

#Driver = GeometryOptimization {
#  Optimizer = LBFGS{}
#  LatticeOpt = Yes
#  OutputPrefix = "geom.out"
#  Convergence {
#    GradElem = 1E-3
#  }
#  MaxSteps = 200
#}

Driver = VelocityVerlet {
    TimeStep [fs] = 0.2
    Steps = 1000
    Thermostat = NoseHoover {
        Temperature [Kelvin] = 300
        CouplingStrength [cm^-1] = 3400
    }
    Barostat {
        Pressure [Pa] = 1.0e11   # 100 GPa
        Timescale [ps] = 0.2
        Isotropic = Yes
    }
    MovedAtoms = 1:-1
    OutputPrefix = "npt_relax"
}

Hamiltonian = xTB {
  Method = "GFN1-xTB" # GFN1-xTB, IPEA1-xTB, or GFN2-xTB
  SCC = Yes
  SCCTolerance = 1.0e-3
  MaxSCCIterations = 1000
  Mixer = Broyden {
    MixingParameter = 0.10
    InverseJacobiWeight = 0.01 # default value
    WeightFactor = 0.01        # default value
  }
  Charge = 0.0
  KPointsAndWeights = SuperCellFolding {
    #kppvol = 25
    nkx 0   0
    0   nky 0
    0   0   nkz
    0.0 0.0 0.0
  }
  Filling = MethfesselPaxton{
    Order = 2
    Temperature [Kelvin] = 300
    IndependentKFilling = No
  }
  ShellResolvedSCC = No
  SpinPolarisation = {}
  Solver = RelativelyRobust {}
  ReadInitialCharges = No
  InitialCharges = {}
  EwaldParameter = 0.0000000000000000
  EwaldTolerance = 1.0000000000000001E-009
  ConvergentSCCOnly = Yes
  ElectricField = {}
  Dispersion = {}
  Solvation = {}
  Electrostatics = GammaFunctional {}
  #Differentiation = FiniteDiff {
  #  Delta = 1.2207031250000000E-004
  #}
  ForceEvaluation = "Traditional"
}

Analysis = {
  PrintForces = Yes
  WriteEigenvectors = No
  WriteBandOut = Yes
  MullikenAnalysis = Yes
  WriteNetCharges = No
  AtomResolvedEnergies = No
}

Options = {
  WriteDetailedOut = Yes
  WriteAutotestTag = No
  WriteDetailedXML = No
  WriteResultsTag = No
  RandomSeed = 0
  WriteHS = No
  WriteRealHS = No
  MinimiseMemoryUsage = No
  ShowFoldedCoords = No
  TimingVerbosity = 1
  WriteCharges = Yes
  WriteChargesAsText = No
  BinaryAccessTypes = {
    "stream"
  }
}

ParserOptions = {
  ParserVersion = 14
  WriteHSDInput = Yes
  StopAfterParsing = No
  IgnoreUnprocessedNodes = No
}
